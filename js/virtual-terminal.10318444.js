"use strict";(globalThis["webpackChunkcoreclear_portal"]=globalThis["webpackChunkcoreclear_portal"]||[]).push([[64],{9968:()=>{},7273:()=>{},1234:(t,e,s)=>{s.d(e,{Z:()=>h});var a=s(5648),r=s(8119),i=s(172),n=s(2936),o=s(8085),l=s(144);const d=l.Z.extend({name:"transitionable",props:{mode:String,origin:String,transition:String}});var c=s(3325),u=s(1824);const h=(0,c.Z)(a.Z,n.Z,d).extend({name:"v-alert",props:{border:{type:String,validator(t){return["top","right","bottom","left"].includes(t)}},closeLabel:{type:String,default:"$vuetify.close"},coloredBorder:Boolean,dense:Boolean,dismissible:Boolean,closeIcon:{type:String,default:"$cancel"},icon:{default:"",type:[Boolean,String],validator(t){return"string"===typeof t||!1===t}},outlined:Boolean,prominent:Boolean,text:Boolean,type:{type:String,validator(t){return["info","error","success","warning"].includes(t)}},value:{type:Boolean,default:!0}},computed:{__cachedBorder(){if(!this.border)return null;let t={staticClass:"v-alert__border",class:{[`v-alert__border--${this.border}`]:!0}};return this.coloredBorder&&(t=this.setBackgroundColor(this.computedColor,t),t.class["v-alert__border--has-color"]=!0),this.$createElement("div",t)},__cachedDismissible(){if(!this.dismissible)return null;const t=this.iconColor;return this.$createElement(r.Z,{staticClass:"v-alert__dismissible",props:{color:t,icon:!0,small:!0},attrs:{"aria-label":this.$vuetify.lang.t(this.closeLabel)},on:{click:()=>this.isActive=!1}},[this.$createElement(i.Z,{props:{color:t}},this.closeIcon)])},__cachedIcon(){return this.computedIcon?this.$createElement(i.Z,{staticClass:"v-alert__icon",props:{color:this.iconColor}},this.computedIcon):null},classes(){const t={...a.Z.options.computed.classes.call(this),"v-alert--border":Boolean(this.border),"v-alert--dense":this.dense,"v-alert--outlined":this.outlined,"v-alert--prominent":this.prominent,"v-alert--text":this.text};return this.border&&(t[`v-alert--border-${this.border}`]=!0),t},computedColor(){return this.color||this.type},computedIcon(){return!1!==this.icon&&("string"===typeof this.icon&&this.icon?this.icon:!!["error","info","success","warning"].includes(this.type)&&`$${this.type}`)},hasColoredIcon(){return this.hasText||Boolean(this.border)&&this.coloredBorder},hasText(){return this.text||this.outlined},iconColor(){return this.hasColoredIcon?this.computedColor:void 0},isDark(){return!(!this.type||this.coloredBorder||this.outlined)||o.Z.options.computed.isDark.call(this)}},created(){this.$attrs.hasOwnProperty("outline")&&(0,u.fK)("outline","outlined",this)},methods:{genWrapper(){const t=[this.$slots.prepend||this.__cachedIcon,this.genContent(),this.__cachedBorder,this.$slots.append,this.$scopedSlots.close?this.$scopedSlots.close({toggle:this.toggle}):this.__cachedDismissible],e={staticClass:"v-alert__wrapper"};return this.$createElement("div",e,t)},genContent(){return this.$createElement("div",{staticClass:"v-alert__content"},this.$slots.default)},genAlert(){let t={staticClass:"v-alert",attrs:{role:"alert"},on:this.listeners$,class:this.classes,style:this.styles,directives:[{name:"show",value:this.isActive}]};if(!this.coloredBorder){const e=this.hasText?this.setTextColor:this.setBackgroundColor;t=e(this.computedColor,t)}return this.$createElement("div",t,[this.genWrapper()])},toggle(){this.isActive=!this.isActive}},render(t){const e=this.genAlert();return this.transition?t("transition",{props:{name:this.transition,origin:this.origin,mode:this.mode}},[e]):e}})},8119:(t,e,s)=>{s.d(e,{Z:()=>r});var a=s(3150);const r=a.Z},2371:(t,e,s)=>{s.d(e,{Z:()=>o});s(9968);var a=s(5648),r=s(7342),i=s(6505),n=s(3325);const o=(0,n.Z)(r.Z,i.Z,a.Z).extend({name:"v-card",props:{flat:Boolean,hover:Boolean,img:String,link:Boolean,loaderHeight:{type:[Number,String],default:4},raised:Boolean},computed:{classes(){return{"v-card":!0,...i.Z.options.computed.classes.call(this),"v-card--flat":this.flat,"v-card--hover":this.hover,"v-card--link":this.isClickable,"v-card--loading":this.loading,"v-card--disabled":this.disabled,"v-card--raised":this.raised,...a.Z.options.computed.classes.call(this)}},styles(){const t={...a.Z.options.computed.styles.call(this)};return this.img&&(t.background=`url("${this.img}") center center / cover no-repeat`),t}},methods:{genProgress(){const t=r.Z.options.methods.genProgress.call(this);return t?this.$createElement("div",{staticClass:"v-card__progress",key:"progress"},[t]):null}},render(t){const{tag:e,data:s}=this.generateRouteLink();return s.style=this.styles,this.isClickable&&(s.attrs=s.attrs||{},s.attrs.tabindex=0),t(e,this.setBackgroundColor(this.color,s),[this.genProgress(),this.$slots.default])}})},7118:(t,e,s)=>{s.d(e,{h7:()=>i,ZB:()=>o,EB:()=>l});var a=s(2371),r=s(4589);const i=(0,r.Ji)("v-card__actions"),n=(0,r.Ji)("v-card__subtitle"),o=(0,r.Ji)("v-card__text"),l=(0,r.Ji)("v-card__title");a.Z},6232:(t,e,s)=>{s.d(e,{Z:()=>n});var a=s(3325),r=s(6210),i=s(6257);const n=(0,a.Z)(r.Z,(0,i.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),s={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?s.shouldValidate=t.$watch("shouldValidate",(a=>{a&&(this.errorBag.hasOwnProperty(t._uid)||(s.valid=e(t)))})):s.valid=e(t),s},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const s=this.watchers.find((t=>t._uid===e._uid));s&&(s.valid(),s.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},2102:(t,e,s)=>{s.d(e,{Z:()=>p});s(5827),s(7273);var a=s(144),r=s(6290),i=s(4589);const n=["sm","md","lg","xl"],o=(()=>n.reduce(((t,e)=>(t[e]={type:[Boolean,String,Number],default:!1},t)),{}))(),l=(()=>n.reduce(((t,e)=>(t["offset"+(0,i.jC)(e)]={type:[String,Number],default:null},t)),{}))(),d=(()=>n.reduce(((t,e)=>(t["order"+(0,i.jC)(e)]={type:[String,Number],default:null},t)),{}))(),c={col:Object.keys(o),offset:Object.keys(l),order:Object.keys(d)};function u(t,e,s){let a=t;if(null!=s&&!1!==s){if(e){const s=e.replace(t,"");a+=`-${s}`}return"col"!==t||""!==s&&!0!==s?(a+=`-${s}`,a.toLowerCase()):a.toLowerCase()}}const h=new Map,p=a.Z.extend({name:"v-col",functional:!0,props:{cols:{type:[Boolean,String,Number],default:!1},...o,offset:{type:[String,Number],default:null},...l,order:{type:[String,Number],default:null},...d,alignSelf:{type:String,default:null,validator:t=>["auto","start","end","center","baseline","stretch"].includes(t)},tag:{type:String,default:"div"}},render(t,{props:e,data:s,children:a,parent:i}){let n="";for(const r in e)n+=String(e[r]);let o=h.get(n);if(!o){let t;for(t in o=[],c)c[t].forEach((s=>{const a=e[s],r=u(t,s,a);r&&o.push(r)}));const s=o.some((t=>t.startsWith("col-")));o.push({col:!s||!e.cols,[`col-${e.cols}`]:e.cols,[`offset-${e.offset}`]:e.offset,[`order-${e.order}`]:e.order,[`align-self-${e.alignSelf}`]:e.alignSelf}),h.set(n,o)}return t(e.tag,(0,r.ZP)(s,{class:o}),a)}})},9846:(t,e,s)=>{s.d(e,{Z:()=>n});s(8582),s(7273);var a=s(144);function r(t){return a.Z.extend({name:`v-${t}`,functional:!0,props:{id:String,tag:{type:String,default:"div"}},render(e,{props:s,data:a,children:r}){a.staticClass=`${t} ${a.staticClass||""}`.trim();const{attrs:i}=a;if(i){a.attrs={};const t=Object.keys(i).filter((t=>{if("slot"===t)return!1;const e=i[t];return t.startsWith("data-")?(a.attrs[t]=e,!1):e||"string"===typeof e}));t.length&&(a.staticClass+=` ${t.join(" ")}`)}return s.id&&(a.domProps=a.domProps||{},a.domProps.id=s.id),e(s.tag,a,r)}})}var i=s(6290);const n=r("container").extend({name:"v-container",functional:!0,props:{id:String,tag:{type:String,default:"div"},fluid:{type:Boolean,default:!1}},render(t,{props:e,data:s,children:a}){let r;const{attrs:n}=s;return n&&(s.attrs={},r=Object.keys(n).filter((t=>{if("slot"===t)return!1;const e=n[t];return t.startsWith("data-")?(s.attrs[t]=e,!1):e||"string"===typeof e}))),e.id&&(s.domProps=s.domProps||{},s.domProps.id=e.id),t(e.tag,(0,i.ZP)(s,{staticClass:"container",class:Array({"container--fluid":e.fluid}).concat(r||[])}),a)}})},2877:(t,e,s)=>{s.d(e,{Z:()=>y});s(5827),s(7273);var a=s(144),r=s(6290),i=s(4589);const n=["sm","md","lg","xl"],o=["start","end","center"];function l(t,e){return n.reduce(((s,a)=>(s[t+(0,i.jC)(a)]=e(),s)),{})}const d=t=>[...o,"baseline","stretch"].includes(t),c=l("align",(()=>({type:String,default:null,validator:d}))),u=t=>[...o,"space-between","space-around"].includes(t),h=l("justify",(()=>({type:String,default:null,validator:u}))),p=t=>[...o,"space-between","space-around","stretch"].includes(t),m=l("alignContent",(()=>({type:String,default:null,validator:p}))),v={align:Object.keys(c),justify:Object.keys(h),alignContent:Object.keys(m)},g={align:"align",justify:"justify",alignContent:"align-content"};function f(t,e,s){let a=g[t];if(null!=s){if(e){const s=e.replace(t,"");a+=`-${s}`}return a+=`-${s}`,a.toLowerCase()}}const b=new Map,y=a.Z.extend({name:"v-row",functional:!0,props:{tag:{type:String,default:"div"},dense:Boolean,noGutters:Boolean,align:{type:String,default:null,validator:d},...c,justify:{type:String,default:null,validator:u},...h,alignContent:{type:String,default:null,validator:p},...m},render(t,{props:e,data:s,children:a}){let i="";for(const r in e)i+=String(e[r]);let n=b.get(i);if(!n){let t;for(t in n=[],v)v[t].forEach((s=>{const a=e[s],r=f(t,s,a);r&&n.push(r)}));n.push({"no-gutters":e.noGutters,"row--dense":e.dense,[`align-${e.align}`]:e.align,[`justify-${e.justify}`]:e.justify,[`align-content-${e.alignContent}`]:e.alignContent}),b.set(i,n)}return t(e.tag,(0,r.ZP)(s,{staticClass:"row",class:n}),a)}})},6301:(t,e,s)=>{s.r(e),s.d(e,{default:()=>L});var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("v-container",{staticClass:"py-10",attrs:{fluid:""}},[t.showReceipt?s("v-row",{attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"4"}},[s("div",{staticClass:"d-flex justify-space-between"},[s("v-btn",{staticClass:"white--text hidden-print",attrs:{color:t.getAppColors.primary},on:{click:t.backToVirtualTerminal}},[s("v-icon",{attrs:{left:""}},[t._v(" mdi-arrow-left ")]),t._v(" Virtual Terminal ")],1),s("v-btn",{staticClass:"white--text hidden-print",attrs:{color:t.getAppColors.primary},on:{click:t.printReceipt}},[s("v-icon",{attrs:{left:""}},[t._v(" mdi-printer ")]),t._v(" Print ")],1)],1),s("v-card",{staticClass:"mt-2"},[s("v-card-title",{staticClass:"text-h4 justify-center"},[t._v(" Receipt ")]),s("v-divider"),s("v-card-text",{staticClass:"text-h6"},[s("v-simple-table",{scopedSlots:t._u([{key:"default",fn:function(){return[s("tbody",[s("tr",[s("td",{staticClass:"text-h5 text-center",attrs:{colspan:"2"}},[t._v(" "+t._s(t.transactionResponseData.receiptSuggestions.merchantName)+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v("Date:")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.formatDateTime(t.transactionResponseData.timestamp))+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v(" "+t._s(t.transactionResponseData.paymentType)+": ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.transactionResponseData.maskedPan)+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v(" Transaction Type: ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.transactionResponseData.transactionType)+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v("AuthCode:")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.transactionResponseData.authCode)+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v(" Requested Amount: ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.toCurrency(t.transactionResponseData.requestedAmount))+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v(" Authorized Amount: ")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.toCurrency(t.transactionResponseData.authorizedAmount))+" ")])]),s("tr",[s("td",{staticClass:"text-left"},[t._v("Tip Amount:")]),s("td",{staticClass:"text-right"},[t._v(" "+t._s(t.toCurrency(t.transactionResponseData.tipAmount))+" ")])])])]},proxy:!0}],null,!1,2471090879)})],1)],1)],1)],1):t._e(),t.showReceipt?t._e():s("v-row",{staticClass:"hidden-print",attrs:{justify:"center"}},[s("v-col",{attrs:{cols:"12",md:"6"}},[s("v-alert",{attrs:{type:t.alertType,border:"left","close-text":"Close Alert",dismissible:"",transition:"scale-transition"},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v(" "+t._s(t.alertMessage)+" ")]),s("v-card",{staticClass:"rounded-lg pb-2"},[s("v-toolbar",{attrs:{color:"green",dark:"",flat:""}},[s("v-toolbar-title",[t._v(" Virtual Terminal ")]),s("v-spacer"),s("v-btn-toggle",{attrs:{color:"primary","active-class":"v-item--active font-weight-bold",tile:"",mandatory:"",light:"",dense:""},model:{value:t.editedData.transactionType,callback:function(e){t.$set(t.editedData,"transactionType",e)},expression:"editedData.transactionType"}},t._l(t.transactionTypes,(function(e,a){return s("v-btn",{key:a,attrs:{value:e}},[t._v(" "+t._s(e)+" ")])})),1)],1),s("v-card-text",[s("v-form",{ref:"virtualTerminalForm",attrs:{id:"virtualTerminalForm","lazy-validation":""},model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[s("v-subheader",{staticClass:"subtitle-2 font-weight-black px-0"},[t._v(" Transaction Info ")]),s("v-row",[s("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[s("v-text-field",{attrs:{label:"Amount",color:t.getAppColors.primary,rules:t.validationRules.amount,type:"number",prefix:"$",step:"0.01",required:""},on:{change:function(e){t.editedData.amount=t.formatCurrency(t.editedData.amount)}},model:{value:t.editedData.amount,callback:function(e){t.$set(t.editedData,"amount",e)},expression:"editedData.amount"}})],1),s("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[s("v-text-field",{attrs:{label:"Tip Amount",color:t.getAppColors.primary,rules:t.rules.tipAmount,type:"number",prefix:"$",step:"0.01"},on:{change:function(e){t.editedData.tipAmount=t.formatCurrency(t.editedData.tipAmount)}},model:{value:t.editedData.tipAmount,callback:function(e){t.$set(t.editedData,"tipAmount",e)},expression:"editedData.tipAmount"}})],1),s("v-col",{attrs:{cols:"12",md:"6",lg:"3"}},[s("v-slide-x-transition",{attrs:{mode:"out-in"}},["Refund"!==t.editedData.transactionType?s("v-select",{attrs:{items:t.terminals,rules:[function(t){return!!t||"Terminal is required"}],label:"Terminal",color:t.getAppColors.primary,"item-color":"success",required:""},model:{value:t.editedData.terminal,callback:function(e){t.$set(t.editedData,"terminal",e)},expression:"editedData.terminal"}}):s("v-text-field",{attrs:{label:"Transaction ID",color:t.getAppColors.primary,rules:t.rules.transactionId},model:{value:t.editedData.transactionId,callback:function(e){t.$set(t.editedData,"transactionId",e)},expression:"editedData.transactionId"}})],1)],1)],1),s("v-slide-y-transition",{attrs:{group:""}},["Refund"!==t.editedData.transactionType?[s("v-subheader",{key:"1",staticClass:"subtitle-2 font-weight-black px-0"},[t._v(" Payment Info ")]),s("v-row",{key:"2"},[s("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[s("v-text-field",{attrs:{label:"Cardholder Name",color:t.getAppColors.primary,rules:t.rules.cardholderName,required:""},model:{value:t.editedData.cardholderName,callback:function(e){t.$set(t.editedData,"cardholderName",e)},expression:"\n                                                editedData.cardholderName\n                                            "}})],1),s("v-col",{attrs:{cols:"12",md:"6",lg:"4"}},[s("v-text-field",{directives:[{name:"cardformat",rawName:"v-cardformat:formatCardNumber",arg:"formatCardNumber"}],attrs:{label:"Card Number",color:t.getAppColors.primary,rules:t.rules.cardNumber,required:""},scopedSlots:t._u([{key:"append",fn:function(){return[s("v-icon",[t._v(t._s(t.cardIcon))])]},proxy:!0}],null,!1,3761120934),model:{value:t.editedData.cardNumber,callback:function(e){t.$set(t.editedData,"cardNumber",e)},expression:"editedData.cardNumber"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"4"}},[s("v-text-field",{attrs:{label:"Zip Code",color:t.getAppColors.primary,rules:t.rules.postalCode,required:""},model:{value:t.editedData.postalCode,callback:function(e){t.$set(t.editedData,"postalCode",e)},expression:"editedData.postalCode"}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-autocomplete",{attrs:{items:t.months,label:"Exp Month",color:t.getAppColors.primary,rules:t.rules.expirationMonth,"item-color":"success",required:""},model:{value:t.editedData.expirationMonth,callback:function(e){t.$set(t.editedData,"expirationMonth",e)},expression:"\n                                                editedData.expirationMonth\n                                            "}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-autocomplete",{attrs:{items:t.years,label:"Exp Year",color:t.getAppColors.primary,rules:t.rules.expirationYear,"item-color":"success",required:""},model:{value:t.editedData.expirationYear,callback:function(e){t.$set(t.editedData,"expirationYear",e)},expression:"\n                                                editedData.expirationYear\n                                            "}})],1),s("v-col",{attrs:{cols:"12",md:"3",lg:"2"}},[s("v-text-field",{attrs:{label:"CVV",color:t.getAppColors.primary,rules:t.rules.cvv,type:"number",required:"","hide-spin-buttons":""},model:{value:t.editedData.cvv,callback:function(e){t.$set(t.editedData,"cvv",e)},expression:"editedData.cvv"}})],1)],1)]:t._e()],2),s("v-subheader",{staticClass:"subtitle-2 font-weight-black px-0"},[t._v(" Optional ")]),s("v-row",[s("v-col",{attrs:{cols:"12",lg:"4"}},[s("v-text-field",{attrs:{label:"Customer Email",color:t.getAppColors.primary,rules:t.rules.customerEmail,type:"email",hint:"If provided, the customer will be emailed a receipt","persistent-hint":""},model:{value:t.editedData.customerEmail,callback:function(e){t.$set(t.editedData,"customerEmail",e)},expression:"editedData.customerEmail"}})],1),s("v-col",{attrs:{cols:"12",lg:"4"}},[s("v-text-field",{attrs:{label:"Description",color:t.getAppColors.primary,hint:"e.g. 'Payment for Invoice 1942'","persistent-hint":""},model:{value:t.editedData.description,callback:function(e){t.$set(t.editedData,"description",e)},expression:"editedData.description"}})],1),s("v-col",{attrs:{cols:"12",lg:"4"}},[s("v-text-field",{attrs:{label:"Reference ID",color:t.getAppColors.primary},model:{value:t.editedData.transactionReference,callback:function(e){t.$set(t.editedData,"transactionReference",e)},expression:"\n                                        editedData.transactionReference\n                                    "}})],1)],1)],1)],1),s("v-card-actions",[s("v-btn",{attrs:{color:"error"},on:{click:t.reset}},[t._v(" Cancel ")]),s("v-spacer"),s("v-btn",{attrs:{disabled:!t.valid,color:"success"},on:{click:t.submit}},[t._v(" Submit ")])],1)],1)],1)],1)],1)},r=[],i=s(629),n=s(743),o=s.n(n),l=s(9669),d=s.n(l),c=s(381),u=s.n(c);const h={name:"VirtualTerminalScreen",data:()=>({loading:!1,valid:!1,alert:!1,alertMessage:"",alertType:"success",transactionTypes:["Charge","Preauth","Refund"],rules:{charge:{amount:[t=>t>0||"Amount must be positive"],tipAmount:[t=>t>=0||"Tip amount cannot be negative"],cardNumber:[t=>!!t||"Card number is required"],expirationMonth:[t=>!!t||"Exp Month is required"],expirationYear:[t=>!!t||"Exp Year is required"],cvv:[t=>!!t||"CVV is required"],postalCode:[t=>/(^\d{5}$)|(^\d{5}-\d{4}$)/.test(t)||"Postal code must be valid"],cardholderName:[t=>!!t||"Cardholder name is required"],customerEmail:[t=>!t||/.+@.+\..+/.test(t)||"E-mail must be valid"]},preauth:{},refund:{}},editedData:{amount:null,tipAmount:null,terminal:"Manual",transactionType:"Charge",cardNumber:null,expirationMonth:null,expirationYear:null,cvv:null,postalCode:null,cardholderName:null,transactionReference:null,description:null,customerEmail:null,transactionId:null},defaultData:{amount:null,tipAmount:null,terminal:"Manual",transactionType:"Charge",cardNumber:null,expirationMonth:null,expirationYear:null,cvv:null,postalCode:null,cardholderName:null,transactionReference:null,description:null,customerEmail:null,transactionId:null},currentYear:(new Date).getFullYear(),cardBrand:null,showReceipt:!1,transactionResponseData:null}),computed:{...(0,i.Se)(["getAppColors","getInternalCoreClearController"]),terminals(){return["Manual"]},months(){return["01","02","03","04","05","06","07","08","09","10","11","12"]},years(){const t=[];for(let e=0;e<12;e++)t.push((this.currentYear+e).toString());return t},cardIcon(){return this.getCardIcon(this.cardBrand)},validationRules(){let t;switch(this.editedData.transactionType){case"Charge":t=this.rules.charge;break;case"Preauth":t=this.rules.preauth;break;case"Refund":t=this.rules.refund;break;default:t=this.rules.charge}return t}},methods:{openAlert(t,e){this.alertType=t,this.alertMessage=e,this.alert=!0},submit(){this.$refs.virtualTerminalForm.validate()&&(this.loading=!0,this.alert=!1,this.attempt_transaction())},reset(){this.editedData=Object.assign({},this.defaultData)},async attempt_transaction(){let t=new FormData;t.append("amount",this.editedData.amount),t.append("tipAmount",this.editedData.tipAmount),t.append("terminal",this.editedData.terminal),t.append("transactionType",this.editedData.transactionType),t.append("cardNumber",this.editedData.cardNumber?this.editedData.cardNumber.replace(/\s/g,""):null),t.append("expirationMonth",this.editedData.expirationMonth),t.append("expirationYear",this.editedData.expirationYear),t.append("cvv",this.editedData.cvv),t.append("postalCode",this.editedData.postalCode),t.append("cardholderName",this.editedData.cardholderName),t.append("transactionReference",this.editedData.transactionReference),t.append("description",this.editedData.description),t.append("email",this.editedData.customerEmail),t.append("transactionId",this.editedData.transactionId);try{let e=await d().post(""+(this.getInternalCoreClearController+"/virtual_terminal_attempt_transaction/"+this.editedData.transactionType),t,{withCredentials:!0,crossDomain:!0});if(!0===e.data.success){let t="error",s="Unknown error";!0===e.data.approved&&(this.showReceipt=!0,this.transactionResponseData=e.data,t="success",s="Approved: "+this.editedData.transactionType+" was completed successfully",e.data.authorizedAmount!=e.data.requestedAmount&&(t="warning",s="Approved: Authorized amount was less than you requested. Requested: "+e.data.requestedAmount+" Authorized: "+e.data.authorizedAmount),this.reset()),this.openAlert(t,s)}else this.openAlert("error","The gateway returned an error.")}catch(e){console.error("Could not complete transaction"),console.error(e),this.openAlert("error",e)}},formatCurrency(t){return t?o().formatNumber(t,2,"","."):"0"},getCardIcon:function(t){t=t||"unknown";let e="",s={visa:"fab fa-cc-visa",mastercard:"fab fa-cc-mastercard",amex:"fab fa-cc-amex",discover:"fab fa-cc-discover",diners:"fab fa-cc-diners-club",jcb:"fab fa-cc-jcb",unknown:"fa fa-credit-card"};return e=s[t]?s[t]:"fa fa-credit-card",e},toCurrency:t=>t?o().formatMoney(t):"0",formatDateTime(t){return t?u()(t).format("MM/DD/YYYY LT"):""},printReceipt(){window.print()},backToVirtualTerminal(){this.showReceipt=!1}}},p=h;var m=s(1001),v=s(3453),g=s.n(v),f=s(1234),b=s(3986),y=s(5978),C=s(6290),x=s(4589);const D={...b.l,offsetY:!0,offsetOverflow:!0,transition:!1},I=b.Z.extend({name:"v-autocomplete",props:{allowOverflow:{type:Boolean,default:!0},autoSelectFirst:{type:Boolean,default:!1},filter:{type:Function,default:(t,e,s)=>s.toLocaleLowerCase().indexOf(e.toLocaleLowerCase())>-1},hideNoData:Boolean,menuProps:{type:b.Z.options.props.menuProps.type,default:()=>D},noFilter:Boolean,searchInput:{type:String}},data(){return{lazySearch:this.searchInput}},computed:{classes(){return{...b.Z.options.computed.classes.call(this),"v-autocomplete":!0,"v-autocomplete--is-selecting-index":this.selectedIndex>-1}},computedItems(){return this.filteredItems},selectedValues(){return this.selectedItems.map((t=>this.getValue(t)))},hasDisplayedItems(){return this.hideSelected?this.filteredItems.some((t=>!this.hasItem(t))):this.filteredItems.length>0},currentRange(){return null==this.selectedItem?0:String(this.getText(this.selectedItem)).length},filteredItems(){return!this.isSearching||this.noFilter||null==this.internalSearch?this.allItems:this.allItems.filter((t=>{const e=(0,x.qF)(t,this.itemText),s=null!=e?String(e):"";return this.filter(t,String(this.internalSearch),s)}))},internalSearch:{get(){return this.lazySearch},set(t){this.lazySearch!==t&&(this.lazySearch=t,this.$emit("update:search-input",t))}},isAnyValueAllowed(){return!1},isDirty(){return this.searchIsDirty||this.selectedItems.length>0},isSearching(){return this.multiple&&this.searchIsDirty||this.searchIsDirty&&this.internalSearch!==this.getText(this.selectedItem)},menuCanShow(){return!!this.isFocused&&(this.hasDisplayedItems||!this.hideNoData)},$_menuProps(){const t=b.Z.options.computed.$_menuProps.call(this);return t.contentClass=`v-autocomplete__content ${t.contentClass||""}`.trim(),{...D,...t}},searchIsDirty(){return null!=this.internalSearch&&""!==this.internalSearch},selectedItem(){return this.multiple?null:this.selectedItems.find((t=>this.valueComparator(this.getValue(t),this.getValue(this.internalValue))))},listData(){const t=b.Z.options.computed.listData.call(this);return t.props={...t.props,items:this.virtualizedItems,noFilter:this.noFilter||!this.isSearching||!this.filteredItems.length,searchInput:this.internalSearch},t}},watch:{filteredItems:"onFilteredItemsChanged",internalValue:"setSearch",isFocused(t){t?(document.addEventListener("copy",this.onCopy),this.$refs.input&&this.$refs.input.select()):(document.removeEventListener("copy",this.onCopy),this.blur(),this.updateSelf())},isMenuActive(t){!t&&this.hasSlot&&(this.lazySearch=null)},items(t,e){e&&e.length||!this.hideNoData||!this.isFocused||this.isMenuActive||!t.length||this.activateMenu()},searchInput(t){this.lazySearch=t},internalSearch:"onInternalSearchChanged",itemText:"updateSelf"},created(){this.setSearch()},destroyed(){document.removeEventListener("copy",this.onCopy)},methods:{onFilteredItemsChanged(t,e){if(t!==e){if(!this.autoSelectFirst){const s=e[this.$refs.menu.listIndex];s?this.setMenuIndex(t.findIndex((t=>t===s))):this.setMenuIndex(-1),this.$emit("update:list-index",this.$refs.menu.listIndex)}this.$nextTick((()=>{this.internalSearch&&(1===t.length||this.autoSelectFirst)&&(this.$refs.menu.getTiles(),this.autoSelectFirst&&t.length&&(this.setMenuIndex(0),this.$emit("update:list-index",this.$refs.menu.listIndex)))}))}},onInternalSearchChanged(){this.updateMenuDimensions()},updateMenuDimensions(){this.isMenuActive&&this.$refs.menu&&this.$refs.menu.updateDimensions()},changeSelectedIndex(t){this.searchIsDirty||(this.multiple&&t===x.Do.left?-1===this.selectedIndex?this.selectedIndex=this.selectedItems.length-1:this.selectedIndex--:this.multiple&&t===x.Do.right?this.selectedIndex>=this.selectedItems.length-1?this.selectedIndex=-1:this.selectedIndex++:t!==x.Do.backspace&&t!==x.Do["delete"]||this.deleteCurrentItem())},deleteCurrentItem(){const t=this.selectedIndex,e=this.selectedItems[t];if(!this.isInteractive||this.getDisabled(e))return;const s=this.selectedItems.length-1;if(-1===this.selectedIndex&&0!==s)return void(this.selectedIndex=s);const a=this.selectedItems.length,r=t!==a-1?t:t-1,i=this.selectedItems[r];i?this.selectItem(e):this.setValue(this.multiple?[]:null),this.selectedIndex=r},clearableCallback(){this.internalSearch=null,b.Z.options.methods.clearableCallback.call(this)},genInput(){const t=y.Z.options.methods.genInput.call(this);return t.data=(0,C.ZP)(t.data,{attrs:{"aria-activedescendant":(0,x.vO)(this.$refs.menu,"activeTile.id"),autocomplete:(0,x.vO)(t.data,"attrs.autocomplete","off")},domProps:{value:this.internalSearch}}),t},genInputSlot(){const t=b.Z.options.methods.genInputSlot.call(this);return t.data.attrs.role="combobox",t},genSelections(){return this.hasSlot||this.multiple?b.Z.options.methods.genSelections.call(this):[]},onClick(t){this.isInteractive&&(this.selectedIndex>-1?this.selectedIndex=-1:this.onFocus(),this.isAppendInner(t.target)||this.activateMenu())},onInput(t){if(this.selectedIndex>-1||!t.target)return;const e=t.target,s=e.value;e.value&&this.activateMenu(),this.multiple||""!==s||this.deleteCurrentItem(),this.internalSearch=s,this.badInput=e.validity&&e.validity.badInput},onKeyDown(t){const e=t.keyCode;!t.ctrlKey&&[x.Do.home,x.Do.end].includes(e)||b.Z.options.methods.onKeyDown.call(this,t),this.changeSelectedIndex(e)},onSpaceDown(t){},onTabDown(t){b.Z.options.methods.onTabDown.call(this,t),this.updateSelf()},onUpDown(t){t.preventDefault(),this.activateMenu()},selectItem(t){b.Z.options.methods.selectItem.call(this,t),this.setSearch()},setSelectedItems(){b.Z.options.methods.setSelectedItems.call(this),this.isFocused||this.setSearch()},setSearch(){this.$nextTick((()=>{this.multiple&&this.internalSearch&&this.isMenuActive||(this.internalSearch=!this.selectedItems.length||this.multiple||this.hasSlot?null:this.getText(this.selectedItem))}))},updateSelf(){(this.searchIsDirty||this.internalValue)&&(this.multiple||this.valueComparator(this.internalSearch,this.getValue(this.internalValue))||this.setSearch())},hasItem(t){return this.selectedValues.indexOf(this.getValue(t))>-1},onCopy(t){var e,s;if(-1===this.selectedIndex)return;const a=this.selectedItems[this.selectedIndex],r=this.getText(a);null==(e=t.clipboardData)||e.setData("text/plain",r),null==(s=t.clipboardData)||s.setData("text/vnd.vuetify.autocomplete.item+plain",r),t.preventDefault()}}});var _=s(3150),S=s(4622);const $=S.y.extend({name:"button-group",provide(){return{btnToggle:this}},computed:{classes(){return S.y.options.computed.classes.call(this)}},methods:{genData:S.y.options.methods.genData}});var w=s(6952),k=s(3325);const T=(0,k.Z)($,w.Z).extend({name:"v-btn-toggle",props:{backgroundColor:String,borderless:Boolean,dense:Boolean,group:Boolean,rounded:Boolean,shaped:Boolean,tile:Boolean},computed:{classes(){return{...$.options.computed.classes.call(this),"v-btn-toggle":!0,"v-btn-toggle--borderless":this.borderless,"v-btn-toggle--dense":this.dense,"v-btn-toggle--group":this.group,"v-btn-toggle--rounded":this.rounded,"v-btn-toggle--shaped":this.shaped,"v-btn-toggle--tile":this.tile,...this.themeClasses}}},methods:{genData(){const t=this.setTextColor(this.color,{...$.options.methods.genData.call(this)});return this.group?t:this.setBackgroundColor(this.backgroundColor,t)}}});var A=s(2371),Z=s(7118),B=s(2102),V=s(9846),R=s(1418),E=s(6232),N=s(6428),M=s(2877),j=s(3568),P=s(3493),F=s(9762),q=s(5533),Y=s(6656),O=s(7921),z=(0,m.Z)(p,a,r,!1,null,"25029378",null);const L=z.exports;g()(z,{VAlert:f.Z,VAutocomplete:I,VBtn:_.Z,VBtnToggle:T,VCard:A.Z,VCardActions:Z.h7,VCardText:Z.ZB,VCardTitle:Z.EB,VCol:B.Z,VContainer:V.Z,VDivider:R.Z,VForm:E.Z,VIcon:N.Z,VRow:M.Z,VSelect:b.Z,VSimpleTable:j.Z,VSlideXTransition:P.Qn,VSlideYTransition:P.cu,VSpacer:F.Z,VSubheader:q.Z,VTextField:y.Z,VToolbar:Y.Z,VToolbarTitle:O.qW})}}]);
//# sourceMappingURL=virtual-terminal.10318444.js.map