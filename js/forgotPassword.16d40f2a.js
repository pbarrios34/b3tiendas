"use strict";(globalThis["webpackChunkcoreclear_portal"]=globalThis["webpackChunkcoreclear_portal"]||[]).push([[616],{6232:(t,e,a)=>{a.d(e,{Z:()=>o});var r=a(3325),s=a(6210),i=a(6257);const o=(0,r.Z)(s.Z,(0,i.J)("form")).extend({name:"v-form",provide(){return{form:this}},inheritAttrs:!1,props:{disabled:Boolean,lazyValidation:Boolean,readonly:Boolean,value:Boolean},data:()=>({inputs:[],watchers:[],errorBag:{}}),watch:{errorBag:{handler(t){const e=Object.values(t).includes(!0);this.$emit("input",!e)},deep:!0,immediate:!0}},methods:{watchInput(t){const e=t=>t.$watch("hasError",(e=>{this.$set(this.errorBag,t._uid,e)}),{immediate:!0}),a={_uid:t._uid,valid:()=>{},shouldValidate:()=>{}};return this.lazyValidation?a.shouldValidate=t.$watch("shouldValidate",(r=>{r&&(this.errorBag.hasOwnProperty(t._uid)||(a.valid=e(t)))})):a.valid=e(t),a},validate(){return 0===this.inputs.filter((t=>!t.validate(!0))).length},reset(){this.inputs.forEach((t=>t.reset())),this.resetErrorBag()},resetErrorBag(){this.lazyValidation&&setTimeout((()=>{this.errorBag={}}),0)},resetValidation(){this.inputs.forEach((t=>t.resetValidation())),this.resetErrorBag()},register(t){this.inputs.push(t),this.watchers.push(this.watchInput(t))},unregister(t){const e=this.inputs.find((e=>e._uid===t._uid));if(!e)return;const a=this.watchers.find((t=>t._uid===e._uid));a&&(a.valid(),a.shouldValidate()),this.watchers=this.watchers.filter((t=>t._uid!==e._uid)),this.inputs=this.inputs.filter((t=>t._uid!==e._uid)),this.$delete(this.errorBag,e._uid)}},render(t){return t("form",{staticClass:"v-form",attrs:{novalidate:!0,...this.attrs$},on:{submit:t=>this.$emit("submit",t)}},this.$slots.default)}})},9389:(t,e,a)=>{a.r(e),a.d(e,{default:()=>O});var r=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("v-container",{staticClass:"fill-height",attrs:{fluid:""}},[r("v-row",{staticClass:"align-center justify-center"},[r("v-col",{attrs:{cols:"12",sm:"8",md:"6",lg:"4"}},[r("v-alert",{attrs:{border:"left","close-text":"Close Alert",type:t.alertType,transition:"scale-transition",prominent:""},model:{value:t.alert,callback:function(e){t.alert=e},expression:"alert"}},[t._v(" "+t._s(t.alertMessage)+" ")]),r("v-fade-transition",[r("v-card",{directives:[{name:"show",rawName:"v-show",value:!t.loading,expression:"!loading"}],staticClass:"elevation-12 rounded-lg"},[r("v-toolbar",{attrs:{color:t.getAppColors.primary,dark:""}},[r("v-avatar",{attrs:{size:"50px"}},[r("v-img",{attrs:{alt:"Logo",src:a(9344),contain:""}})],1),r("v-toolbar-title",{attrs:{dark:""}},[t._v(" core"),r("strong",[t._v("CLEAR")]),t._v(" Portal ")])],1),r("v-card-title",[t._v("Forgot Password")]),r("v-card-text",[r("v-form",{ref:"form",model:{value:t.valid,callback:function(e){t.valid=e},expression:"valid"}},[r("v-text-field",{attrs:{"prepend-icon":"person",color:t.getAppColors.primary,label:"Username or Email",name:"usernameOrEmail",type:"text",autocomplete:"usernameOrEmail",rules:t.usernameOrEmailRules,required:""},on:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.submit.apply(null,arguments)}},model:{value:t.usernameOrEmail,callback:function(e){t.usernameOrEmail=e},expression:"usernameOrEmail"}})],1)],1),r("v-card-actions",[r("v-btn",{attrs:{text:"",rounded:"",large:"",to:"/"}},[t._v("Cancel")]),r("v-spacer"),r("v-btn",{staticClass:"white--text",attrs:{color:t.getAppColors.primary,disabled:!t.valid,loading:t.loading,rounded:"",large:""},on:{click:t.submit}},[t._v(" Reset password ")])],1)],1)],1),r("v-dialog",{attrs:{"hide-overlay":"",persistent:"",transition:"dialog-bottom-transition",width:"300"},model:{value:t.loading,callback:function(e){t.loading=e},expression:"loading"}},[r("v-card",{attrs:{color:t.getAppColors.primary,dark:""}},[r("v-card-text",[t._v(" Please wait... "),r("v-progress-linear",{staticClass:"mb-0",attrs:{indeterminate:"",color:"white"}})],1)],1)],1)],1)],1)],1)},s=[],i=a(629),o=a(9669),l=a.n(o);const n={name:"ForgotPassword",data(){return{loading:!1,valid:!1,alert:!1,alertMessage:"",alertType:"success",usernameOrEmail:"",usernameOrEmailRules:[t=>!!t||"Username or Email is required"]}},computed:{...(0,i.Se)(["getAppColors","getInternalLoginController"])},methods:{openAlert(t,e){this.alertType=t,this.alertMessage=e,this.alert=!0},submit(){this.$refs.form.validate()&&(this.loading=!0,this.alert=!1,this.doResetPasswordNotify())},async doResetPasswordNotify(){let t=new FormData;t.append("username_or_email",this.usernameOrEmail);try{let e=await l().post(""+(this.getInternalLoginController+"/do_reset_password_notify/1"),t,{withCredentials:!0,crossDomain:!0});this.loading=!1,!0===e.data.success?this.openAlert("success",e.data.message):this.openAlert("error",e.data.message)}catch(e){console.error(e)}}}},d=n;var u=a(1001),c=a(3453),h=a.n(c),m=a(1234),p=a(6370),v=a(3150),g=a(2371),f=a(7118),w=a(2102),_=a(9846),b=a(4497),y=a(3493),V=a(6232),C=a(7047),E=a(7003),Z=a(2877),x=a(9762),k=a(5978),B=a(6656),A=a(7921),T=(0,u.Z)(d,r,s,!1,null,null,null);const O=T.exports;h()(T,{VAlert:m.Z,VAvatar:p.Z,VBtn:v.Z,VCard:g.Z,VCardActions:f.h7,VCardText:f.ZB,VCardTitle:f.EB,VCol:w.Z,VContainer:_.Z,VDialog:b.Z,VFadeTransition:y.Z5,VForm:V.Z,VImg:C.Z,VProgressLinear:E.Z,VRow:Z.Z,VSpacer:x.Z,VTextField:k.Z,VToolbar:B.Z,VToolbarTitle:A.qW})},9344:(t,e,a)=>{t.exports=a.p+"img/logo-only.62b21ebf.png"}}]);
//# sourceMappingURL=forgotPassword.16d40f2a.js.map